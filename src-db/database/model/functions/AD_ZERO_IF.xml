<?xml version='1.0'?>
  <database name="FUNCTION AD_ZERO_IF">
    <function name="AD_ZERO_IF" type="NUMERIC">
      <parameter name="p_amount" type="NUMERIC" mode="in">
        <default/>
      </parameter>
      <parameter name="p_condition" type="VARCHAR" mode="in">
        <default/>
      </parameter>
      <body><![CDATA[BEGIN
  IF p_amount < 0
  THEN
    IF p_condition = 'N'
    THEN
    RETURN(0);
    ELSE 
    RETURN(p_amount);
    END IF;
  ELSE
    IF p_condition = 'P'
    THEN
    RETURN(0);
    ELSE
    RETURN(p_amount);
    END IF;
  END IF;
EXCEPTION
WHEN OTHERS THEN
  RETURN(0) ;
END AD_ZERO_IF
]]></body>
    </function>
  </database>
