<?xml version="1.0"?>
  <database name="FUNCTION FRIE_VALUE">
    <function name="FRIE_VALUE" type="VARCHAR">
      <parameter name="p_valuename" type="VARCHAR" mode="in">
        <default/>
      </parameter>
      <body><![CDATA[/*************************************************************************
* The contents of this file are subject to the Compiere Public
* License 1.1 ("License"); You may not use this file except in
* compliance with the License. You may obtain a copy of the License in
* the legal folder of your Openbravo installation.
* Software distributed under the License is distributed on an
* "AS IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
* implied. See the License for the specific language governing rights
* and limitations under the License.
* The Original Code is  Compiere  ERP &  Business Solution
* The Initial Developer of the Original Code is Jorg Janke and ComPiere, Inc.
* Portions created by Jorg Janke are Copyright (C) 1999-2001 Jorg Janke,
* parts created by ComPiere are Copyright (C) ComPiere, Inc.;
* All Rights Reserved.
* Contributor(s): Openbravo SL
* Contributions are Copyright (C) 2001-2008 Openbravo, S.L.
*
* Specifically, this derivative work is based upon the following Compiere
* file and version.
*************************************************************************
* $Id: FRIE_Value.sql,v 1.3 2002/10/21 04:49:45 jjanke Exp $
***
* Title: Return "clean" Product Value
* Description:
************************************************************************/
  v_RetValue VARCHAR2(2000) ;
  v_AddOn    VARCHAR2(20):='';
BEGIN
  v_RetValue:=p_ValueName;
  -- Delete ' R ', ' B ', '-', '.', '/'
  v_RetValue:=REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(v_RetValue, ' R ', ''), ' B ', ''), '-', ''), '.', ''), '/', '') ;
  v_RetValue:=REPLACE(v_RetValue, ',', '') ;
  -- Delete ' HR ', ' VR ', ' ZR '
  IF(INSTR(v_RetValue, ' HR ') <> 0) THEN
    v_RetValue:=REPLACE(v_RetValue, ' HR ', '') ;
    v_AddOn:='H';
  END IF;
  IF(INSTR(v_RetValue, ' SR ') <> 0) THEN
    v_RetValue:=REPLACE(v_RetValue, ' SR ', '') ;
    v_AddOn:='S';
  END IF;
  IF(INSTR(v_RetValue, ' VR ') <> 0) THEN
    v_RetValue:=REPLACE(v_RetValue, ' VR ', '') ;
    v_AddOn:='V';
  END IF;
  IF(INSTR(v_RetValue, ' ZR ') <> 0) THEN
    v_RetValue:=REPLACE(v_RetValue, ' ZR ', '') ;
    v_AddOn:='Z';
  END IF;
  -- Clean spaces
  v_RetValue:=REPLACE(v_RetValue, ' ', '') ;
  --
  RETURN TRIM(v_RetValue) || v_AddOn;
END FRIE_VALUE
]]></body>
    </function>
  </database>
