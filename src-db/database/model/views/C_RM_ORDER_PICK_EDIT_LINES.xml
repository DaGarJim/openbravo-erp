<?xml version="1.0"?>
  <database name="VIEW C_RM_ORDER_PICK_EDIT_LINES">
    <view name="C_RM_ORDER_PICK_EDIT_LINES"><![CDATA[SELECT COALESCE(rol.c_orderline_id, il.m_inoutline_id) AS c_rm_order_pick_edit_lines_id, il.ad_client_id, COALESCE(rol.ad_org_id, il.ad_org_id) AS ad_org_id, COALESCE(rol.isactive, il.isactive) AS isactive, COALESCE(rol.createdby, il.createdby) AS createdby, COALESCE(rol.updatedby, il.updatedby) AS updatedby, COALESCE(rol.created, il.created) AS created, COALESCE(rol.updated, il.updated) AS updated, 
CASE
WHEN rol.c_orderline_id IS NOT NULL THEN 'Y'
ELSE 'N'
END AS ob_selected, il.m_inoutline_id, rol.c_order_id AS returnorderid, i.documentno AS inoutno, i.movementdate, il.m_product_id, il.m_attributesetinstance_id, il.movementqty, il.c_uom_id, rol.qtyordered AS returned, ol.priceactual, rol.rm_return_reason, o.documentno AS orderno, i.issotrx
FROM m_inoutline il
JOIN m_inout i ON il.m_inout_id = i.m_inout_id
JOIN c_doctype dt ON i.c_doctype_id = dt.c_doctype_id
LEFT JOIN c_orderline ol ON il.c_orderline_id = ol.c_orderline_id
LEFT JOIN c_order o ON ol.c_order_id = o.c_order_id
LEFT JOIN c_orderline rol ON rol.m_inoutline_id = il.m_inoutline_id
LEFT JOIN c_order ro ON ro.c_order_id = rol.c_order_id AND ro.processed='N'
WHERE dt.ad_table_id = '319' AND i.processed = 'Y' AND i.docstatus <> 'VO']]></view>
  </database>
